<app-header></app-header>

<div class="explore-container">
  <!-- Hero Section -->
 <section class="explore-hero">
  <div class="hero-content">
    <h1>Encontre sua causa</h1>
    <p class="lead">Conecte-se com organizações que precisam da sua ajuda</p>

    <div class="search-container">
      <div class="search-input">
        <i class="bi bi-search"></i>
        <input type="text" placeholder="Buscar por palavras-chave...">
        <button class="btn-search">Buscar</button>
      </div>
      <div class="search-tags">
        <span class="tag" *ngFor="let tag of popularTags"
              [class.active]="selectedTag === tag"
              (click)="selectTag(tag)">
          {{tag}}
        </span>
      </div>
    </div>
  </div>
</section>
  <!-- Filtros -->
  <section class="filters-section">
    <div class="filter-toggle" (click)="toggleFilters()">
      <i class="bi bi-funnel"></i> Filtros
      <i class="bi" [class.bi-chevron-down]="!showFilters" [class.bi-chevron-up]="showFilters"></i>
    </div>

    <div class="filters-content" *ngIf="showFilters">
      <div class="filter-group">
        <h4>Categoria</h4>
        <div class="filter-options">
          <label *ngFor="let category of categories">
            <input type="checkbox" [checked]="selectedCategories.includes(category)"
                   (change)="toggleCategory(category)">
            {{category}}
          </label>
        </div>
      </div>

      <div class="filter-group">
        <h4>Localização</h4>
        <select class="form-select" [(ngModel)]="selectedLocation">
          <option value="">Todas regiões</option>
          <option *ngFor="let location of locations" [value]="location">{{location}}</option>
        </select>
      </div>
    </div>
  </section>

  <!-- Resultados -->
  <section class="results-section">
    <div class="results-header">
      <h2>{{filteredCauses.length}} causas encontradas</h2>
      <div class="sort-options">
        <select class="form-select" [(ngModel)]="sortOption">
          <option value="recent">Mais recentes</option>
          <option value="popular">Mais populares</option>
          <option value="urgent">Mais urgentes</option>
        </select>
      </div>
    </div>

    <div class="causes-grid">
      <div class="cause-card" *ngFor="let cause of filteredCauses" (click)="viewCause(cause.id)">
        <div class="cause-image">
          <img [src]="cause.image" [alt]="cause.title">
          <div class="cause-category" [style.backgroundColor]="getCategoryColor(cause.category)">
            {{cause.category}}
          </div>
        </div>

        <div class="cause-content">
          <h3>{{cause.title}}</h3>
          <p class="cause-description">{{cause.description}}</p>

          <div class="cause-progress">
            <div class="progress-bar" [style.width.%]="(cause.raised / cause.goal) * 100"></div>
            <div class="progress-info">
              <span>R$ {{cause.raised | number}}</span>
              <span>{{(cause.raised / cause.goal) * 100 | number:'1.0-0'}}%</span>
            </div>
          </div>

          <div class="cause-meta">
            <span><i class="bi bi-geo-alt"></i> {{cause.location}}</span>
            <span><i class="bi bi-people"></i> {{cause.donors}} apoiadores</span>
          </div>
        </div>

        <div class="cause-hover">
          <button class="btn-donate">Quero Ajudar</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="explore-cta">
    <div class="cta-content">
      <h2>Não encontrou o que procurava?</h2>
      <p>Cadastre sua ONG e comece a receber apoio para sua causa</p>
      <a routerLink="/cadastrar" class="btn-cta">Cadastrar Minha ONG</a>
    </div>
  </section>
</div>

<app-footer></app-footer>
