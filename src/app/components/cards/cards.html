<mat-card class="campaign-card">
  <img mat-card-image [src]="campaign.imagem[0] || 'assets/images/default-campaign.jpg'" [alt]="campaign.titulo">

  <mat-card-content>
    <div class="campaign-category">{{ campaign.categoria | titlecase }}</div>
    <h3>{{ campaign.titulo }}</h3>
    <p class="campaign-description">{{ truncate(campaign.descricao, 100) }}</p>


    <div class="campaign-progress">
      <mat-progress-bar
        mode="determinate"
        [value]="getProgressPercentage()"
        [color]="getProgressPercentage() >= 100 ? 'primary' : 'accent'">
      </mat-progress-bar>
      <div class="progress-info">
        <span>{{ campaign.arrecadado | currency:'BRL':'symbol':'1.2-2' }} arrecadados</span>
        <span>{{ getProgressPercentage() | number:'1.0-0' }}%</span>
      </div>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <button mat-button color="primary" [routerLink]="['/campaigns', campaign._id]">
      Detalhes
    </button>
    <button mat-flat-button color="accent" (click)="onDonate()">
      Doar
    </button>
  </mat-card-actions>
</mat-card>
